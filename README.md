{this.props.children} - контент модалки как переиспользуемого компонента передаётся в пропсах
-компонент модалки можем переиспользовать на проекте.

================================рендер модалки в другой рут=========================================================

1. Для того чтобы не было проблем с z-index мы модалку рендерим в public -> index.html -> после <div id="root"></div>

добавляем портал для модалки <div id="modal-root"></div> в этом месте рендерится разметка модалки

2. в компоненте Modal прописываем куда рендерим нашу модалку
   const modalRoot = document.querySelector('#modal-root');

Из React-DOM берем специальный метод для портала
import { createPortal } from 'react-dom';

В render() { return()} возвращается результат вызова createPortal(layout, modalRoot) с двумя аргументами

layout - рендеримая разметка
modalRoot - ссылка на место куда рендерить

!!!Идея порталов в том, что html-разметка компонента модалки стоит в другом элементе (div#modal-root), но сам компонент стоит в иерархии компонентов в Арр.

================================Закрытие модального окна по Esc===========================================================

В Реакте нет возможности повесить слушатель на window, поэтому испольуется метод componentDidMount(), а уже в нём можно повесить слушатель события на window.
componentDidMount() {
window.addEventListener('keydown', e => {
if(e.code === 'Escape') {
this.props.onClose(); // - ссылка на метод для закрытия модалки

При закрытии модалки нужно удалять повешенный слушатель на window. Делается это в методе componentWillUnmount() компонента модалки.
componentWillUnmount() {
window.removeEventListener('keydown', ...

0:42:13 По условию true происходит рендер (монтирование) компонента, вызывается componentDidMount(). По false модалка удаляется из следующего Виртуального-ДОМ, т.е. размонтируется компонент, вызывается componentWillUnmount().

0:42:43 Эти методы компонентов используются для того, чтобы в определённое время подключиться к компоненту и выполнить нужный код. Реакт (или фреймворк) предоставляет свой API, жестко регламентирующий методы работы со своими компонентами.

0:43:10 Если не удалять слушатели при размонтировании, то это приводит к утечке памяти, вкладка жрёт ОЗУ и приложение падает. Нужно всегда удалять слушатели, таймауты, интервалы и http-запросы.

=================================3.2 Слушатель на keydown для Escape.===================================

0:35:00 Закрытие модального окна по Esc

В Реакте нет возможности повесить слушатель на window, поэтому испольуется метод componentDidMount(), а уже в нём можно повесить слушатель события на window.
componentDidMount() {
window.addEventListener('keydown', e => {
if(e.code === 'Escape') {
this.props.onClose(); // - ссылка на метод для закрытия модалки

0:38:30 При закрытии модалки нужно удалять повешенный слушатель на window. Делается это в методе componentWillUnmount() компонента модалки.
componentWillUnmount() {
window.removeEventListener('keydown', ...

0:42:13 По условию true происходит рендер (монтирование) компонента, вызывается componentDidMount(). По false модалка удаляется из следующего Виртуального-ДОМ, т.е. размонтируется компонент, вызывается componentWillUnmount().

0:42:43 Эти методы компонентов используются для того, чтобы в определённое время подключиться к компоненту и выполнить нужный код. Реакт (или фреймворк) предоставляет свой API, жестко регламентирующий методы работы со своими компонентами.

0:43:10 Если не удалять слушатели при размонтировании, то это приводит к утечке памяти, вкладка жрёт ОЗУ и приложение падает. Нужно всегда удалять слушатели, таймауты, интервалы и http-запросы.

-------- 3.3 Слушатель на клик по Backdrop.

0:43:50 Закрытие модалки при клике по бэкдропу делается вешанием onClick на бэкдроп, но с проверкой куда кликнули:
if(event.currentTarget === event.target) { //close }

0:47:20 !!! addEventListener и querySelector очень в редких случаях используются в Реакте

======= 4. Таймер и утечка памяти с setState() без componentWillUnmount.

0:48:56 Пример необходимости удалять интервалы/таймеры после размонтирования компонента.

======= 4. Таймер и утечка памяти с setState() без componentWillUnmount.

0:48:56 Пример необходимости удалять интервалы/таймеры после размонтирования компонента.
